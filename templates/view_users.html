{{ define "view_users" }}

{{ template "header" }}


<main class="px-3">

    <div class="container">
        <h1 class="mt-4">Users List</h1>
        <div class="table-responsive">
            <table class="table table-striped table-hover mt-3 shadow-sm">
                <thead class="table-dark">
                <tr>
                    <th>Delete</th>
                    <th>Edit</th>
                    <th>First_Name</th>
                    <th>Last_Name</th>
                    <th>Email</th>
                    <th>Phone</th>
                    <th>Date_Of_Birth</th>
                    <th>Status</th>
                    <th>Role</th>
                    <th>Registration_Date</th>
                </tr>
                </thead>
                <tbody>
                {{range .}}
                <tr>
                    <td>
                        <a href="/delete_user/{{.Id}}" class="btn btn-danger btn-sm">Delete</a>
                    </td>
                    <td>
                        <a href="/edit_user/{{.Id}}" class="btn btn-primary btn-sm">Edit</a>
                    </td>
                    <td>{{.FirstName}}</td>
                    <td>{{.LastName}}</td>
                    <td>{{.Email}}</td>
                    <td>{{.Phone}}</td>
                    <td>{{.DisplayDoB}}</td>
                    <td>{{.Status}}</td>
                    <td>
                        {{if eq .Role 1}}
                        Admin
                        {{else if eq .Role 2}}
                        Business Customer
                        {{else if eq .Role 3}}
                        Customer
                        {{else}}
                        Unknown
                        {{end}}
                    </td>
                    <td>{{.RegistrationDate}}</td>
                </tr>
                {{else}}
                <tr>
                    <td colspan="6">No users available</td>
                </tr>
                {{end}}
                </tbody>
            </table>
        </div>
    </div>

    <p class="lead">
        <a href="/add_user/" class="btn btn-warning mt-2">Add User</a>
    </p>

</main>

{{ template "footer" }}
{{ end }}